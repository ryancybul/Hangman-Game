<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>The Simpsons Hangman</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="./assets/css/style.css" />
    <script src="./assets/javascript/game.js"></script>
</head>
<body>
    <h1>The Simpsons Hangman</h1>
    <h2>Press any key to get started!</h2>
    <h2>Wins: </h2>
    <h2>Losses: <span id="loss"></span> </h2>
    <h2>Current Word: <span id="target-id"></span></h2>
    <h2>Guesses left: <span id="numberOfGuesses"></span></h2>
    <h2>Letters guessed: <span id="dashWrongGuess"></span></h2>

    <script>

        //Global variables
        let words = ["maggie", "marge", "homer", "barney", "lisa", "bart"];
        let wins = 0;
        let loss = 0;
        let numberOfGuesses = 6;
                let wordCounter = 0;
        //stores the underscores
        let wordLength = [];
        //indexed input as letter
        let dashWrongGuess = [];



        //This function will pick our word. 
        function getRandomWord() {
            return words[Math.floor(Math.random() * words.length)];
        }
        //Assigns random word to the variable. 
        let randWord = getRandomWord();
        console.log(randWord);

        //Pushes array word-length to the DOM as understcores 
        for (let i=0; i < randWord.length; i++) {
            wordLength.push("_");
        }
        document.getElementById("target-id").textContent = wordLength.join(" ");

        
        function winLoseCheck() {
            if (wordCounter === randWord.length) {
                alert("you win");
            }
            else if (numberOfGuesses === 0) {
                alert("you lose");
            }
        }

        //Events
        document.onkeyup = function (event) {
        //Captures user key
        let userKey = event.key;
        //If letter is in the random word look for the letter in the index of the 
        if (randWord.indexOf(userKey) > -1) {
            for (let i = 0; i < randWord.length; i++) {
                if(randWord[i] === userKey) {
                    wordLength[i] = userKey;
                    wordLengthStr = wordLength.join(" ");
                    document.getElementById("target-id").textContent = wordLengthStr;  
                    wordCounter++;
                    console.log(wordCounter);
                    winLoseCheck();
                }
            }
        }
        //What happens if guess is wrong
            else {
            dashWrongGuess.push(userKey);
            dashWrongGuessStr = dashWrongGuess.join(" ");
            document.getElementById("dashWrongGuess").textContent = dashWrongGuessStr;
            document.getElementById("numberOfGuesses").textContent = numberOfGuesses--;
            winLoseCheck();
        }   
        
    };
    
//initialize 
//let computer word = 
//let dashword = ----

//on keyup (event) {
//    event.keyup
//puts the leteron the screen
//wrong state: if wrong user tell the user and subract one
//correct state put letter in right correction

    </script>    
    
</body>
</html>